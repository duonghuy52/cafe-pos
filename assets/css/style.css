/* style.css - Tệp tin định nghĩa giao diện chính cho hệ thống bán hàng (POS). 
   Bao gồm cấu trúc Layout, danh sách sản phẩm, giỏ hàng, các hiệu ứng chuyển động 
   và chế độ sáng/tối (Dark Mode). */

:root {
    --primary: #8b5cf6;
    --accent: #fbbf24;
    --success: #10b981;
    --danger: #ef4444;
    --muted: #6b7280;
    --light: #faf8ff;
    --dark: #3f3f46;
    --border: #e9d5ff; 
    --shadow: 0 4px 6px rgba(139, 92, 246, 0.1), 0 10px 15px rgba(139, 92, 246, 0.15);
    --shadow-lg: 0 20px 25px rgba(139, 92, 246, 0.2);
}

body.dark {
    --primary: #818cf8;
    --accent: #fbbf24;
    --success: #34d399;
    --danger: #f87171;
    --muted: #9ca3af;
    --light: #1f2937;
    --dark: #f9fafb;
    --border: #374151;
}

* {
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    padding: 0;
    margin: 0;
    background: var(--bg, linear-gradient(135deg, #faf8ff 0%, #f3e8ff 100%));
    color: #3f3f46;
    min-height: 100vh;
    transition: background 0.3s ease, color 0.3s ease;
}

body.dark .brand {
    background: #1f2937;
}

body.dark .topbar {
    background: #374151;
}

body.dark .product-card {
    background: #374151;
    border-color: #4b5563;
}

body.dark #cart {
    background: #1f2937;
    border-color: #4b5563;
}

.container {
    display: flex;
    gap: 24px;
    padding: 24px;
    max-width: 1600px;
    margin: 0 auto;
    min-height: 100vh;
    padding-top: 170px;
    /* Space for fixed header */
}

.container>div:first-child {
    margin-right: 340px;
    /* Space for fixed cart */
}

.brand {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
    padding: 16px;
    background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
    border-radius: 12px;
    color: white;
    box-shadow: var(--shadow);
    justify-content: space-between;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    margin-bottom: 0;
}

.brand-text {
    flex: 1;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    white-space: nowrap;
}

.logout-btn {
    text-decoration: none;
    color: white;
    background: rgba(255, 255, 255, 0.2);
    padding: 8px 12px;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-weight: 600;
    display: inline-block;
}

.logout-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

.back-btn {
    text-decoration: none;
    color: white;
    background: rgba(255, 255, 255, 0.2);
    padding: 8px 12px;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-weight: 600;
    display: inline-block;
}

.back-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

.logo {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    object-fit: cover;
    object-position: center;
}

.brand-text .title {
    font-size: 24px;
    font-weight: 700;
    color: white;
    margin: 0;
}

.brand-text .subtitle {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    margin: 4px 0 0 0;
}

.topbar {
    margin-bottom: 24px;
    display: flex;
    gap: 16px;
    align-items: center;
    flex-wrap: wrap;
    position: fixed;
    top: 80px;
    /* Height of brand approx */
    left: 0;
    right: 0;
    z-index: 1000;
    background: white;
    padding: 16px 24px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 0;
}

.topbar input {
    flex: 1;
    min-width: 240px;
    padding: 12px 16px;
    border: 2px solid var(--border);
    border-radius: 10px;
    font-size: 14px;
    background: white;
    transition: all 0.3s ease;
}

.topbar input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.topbar a {
    text-decoration: none;
    color: white;
    font-weight: 600;
    padding: 10px 16px;
    background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
    border-radius: 8px;
    transition: all 0.3s ease;
    display: inline-block;
}

.topbar a:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.topbar select {
    padding: 8px 12px;
    border: 2px solid var(--border);
    border-radius: 8px;
    font-size: 14px;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.topbar select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    transform: translateY(-2px);
}

.topbar select:hover {
    border-color: var(--primary);
}

#products {
    flex: 2;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 16px;
    align-content: start;
    transition: opacity 0.3s ease;
}

#products.fade {
    opacity: 0;
}

.product-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 2px solid transparent;
    display: flex;
    flex-direction: column;
    animation: fadeInUp 0.5s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.product-card:hover {
    box-shadow: var(--shadow);
    transform: translateY(-4px);
    border-color: var(--primary);
}

.product-card strong {
    display: block;
    font-size: 15px;
    color: var(--dark);
    font-weight: 600;
    margin: 0;
}

.btn-buy,
.btn-detail {
    padding: 8px 10px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.btn-buy:hover,
.btn-detail:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.btn-buy:active,
.btn-detail:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

.btn-buy {
    display: block !important;
    width: 100% !important;
    padding: 12px 16px !important;
    background: linear-gradient(135deg, #10b981 0%, #34d399 100%) !important;
    color: white !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4) !important;
    border: 2px solid #10b981 !important;
    text-align: center !important;
    box-sizing: border-box !important;
}

.btn-buy:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 16px rgba(16, 185, 129, 0.5) !important;
}

.btn-buy.out-of-stock {
    background: #ef4444 !important;
    border-color: #ef4444 !important;
    color: white !important;
}

.btn-detail {
    background: var(--light);
    color: var(--muted);
    border: 1px solid var(--border);
}

.btn-detail:hover {
    background: var(--border);
    color: var(--dark);
    transform: translateY(-2px);
}

#products button {
    all: unset;
}

#cart {
    flex: 1;
    min-width: 300px;
    background: white;
    padding: 24px;
    border-radius: 12px;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    gap: 16px;
    position: fixed;
    right: 20px;
    top: 170px;
    width: 300px;
    height: calc(100vh - 190px);
    overflow-y: auto;
    z-index: 500;
}

#cart h2 {
    margin: 0;
    font-size: 20px;
    color: var(--dark);
    border-bottom: 2px solid var(--primary);
    padding-bottom: 12px;
}

#cart ul {
    list-style: none;
    padding: 0;
    margin: 0;
    flex: 1;
    overflow-y: auto;
    max-height: 400px;
}

.cart-item {
    padding: 12px;
    border-bottom: 1px solid var(--light);
    font-size: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--light);
    margin-bottom: 8px;
    border-radius: 8px;
    padding: 10px 12px;
}

.cart-item:last-child {
    border-bottom: none;
}

#cart>div {
    padding: 16px;
    background: var(--light);
    border-radius: 8px;
    font-weight: 600;
    text-align: center;
    font-size: 18px;
    color: var(--primary);
}

#cart button {
    background: linear-gradient(135deg, var(--primary) 0%, #818cf8 100%);
    color: white;
    border: none;
    padding: 14px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
}

#cart button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 12px rgba(99, 102, 241, 0.4);
}

#cart button:active {
    transform: translateY(0);
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

#cart button.pulse {
    animation: pulse 1.5s infinite;
}

.custom-select {
    position: relative;
    width: 150px;
}

.select-selected {
    padding: 8px 12px;
    border: 2px solid var(--border);
    border-radius: 8px;
    font-size: 14px;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.custom-select.open .select-selected {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid var(--border);
    border-top: none;
    border-radius: 0 0 8px 8px;
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease;
    opacity: 0;
    z-index: 10;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.custom-select.open .select-options {
    max-height: 200px;
    opacity: 1;
}


/* Highlight animation when user selects a size in the modal */

.size-chosen {
    animation: size-pulse 0.7s ease-out;
    outline: none;
    border-color: rgba(99, 102, 241, 0.6) !important;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.08);
    transition: box-shadow 160ms ease, border-color 160ms ease;
}

@keyframes size-pulse {
    0% {
        transform: translateY(-8px);
        box-shadow: 0 0 0 rgba(99, 102, 241, 0);
    }
    50% {
        transform: translateY(0);
        box-shadow: 0 12px 24px rgba(99, 102, 241, 0.12);
    }
    100% {
        transform: translateY(0);
        box-shadow: 0 0 0 rgba(99, 102, 241, 0);
    }
}


/* small check burst that appears when selecting a size */

.size-wrap {
    position: relative;
}


/* removed burst element styles (UX simplified) */


/* Slide-down animation for size selection (mô phỏng dropdown) */

.size-wrap {
    transition: transform 260ms cubic-bezier(.2, .9, .2, 1), box-shadow 260ms ease;
    will-change: transform;
}

.size-wrap.size-open {
    transform: translateY(10px);
}


/* Table selection buttons in payment modal */

.table-btn {
    background: linear-gradient(135deg, #10b981, #34d399);
    color: white;
    border: none;
    border-radius: 10px;
    transition: transform 160ms cubic-bezier(.2, .9, .2, 1), box-shadow 160ms ease, background 220ms ease;
    display: inline-block;
    padding: 12px 0;
    font-weight: 700;
    position: relative;
    overflow: hidden;
    box-shadow: 0 8px 18px rgba(16, 185, 129, 0.16);
}

.table-btn:hover,
.table-btn.table-hover {
    transform: translateY(-4px) scale(1.03);
    box-shadow: 0 18px 36px rgba(16, 185, 129, 0.22);
}

.table-btn:active {
    transform: scale(0.98);
    transition: transform 120ms ease;
}

.table-btn.table-selected {
    /* stronger glow + subtle inset highlight for clearer selected state */
    box-shadow: 0 20px 44px rgba(16, 185, 129, 0.40), 0 0 20px rgba(16, 185, 129, 0.22), inset 0 0 10px rgba(255, 255, 255, 0.06);
    outline: 4px solid rgba(16, 185, 129, 0.20);
    transform: translateY(-2px) scale(1.035);
    animation: table-glow 1400ms ease-in-out infinite;
}

@keyframes table-glow {
    0% {
        box-shadow: 0 18px 36px rgba(16, 185, 129, 0.32), 0 0 12px rgba(16, 185, 129, 0.14);
    }
    50% {
        box-shadow: 0 26px 60px rgba(16, 185, 129, 0.44), 0 0 28px rgba(16, 185, 129, 0.26);
    }
    100% {
        box-shadow: 0 18px 36px rgba(16, 185, 129, 0.32), 0 0 12px rgba(16, 185, 129, 0.14);
    }
}

.table-btn.table-reserved {
    background: linear-gradient(90deg, #ef4444, #fca5a5);
    color: white;
    transform: none;
    filter: saturate(0.95) brightness(0.98);
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.12);
}


/* Button styles for modal actions */

.btn-primary {
    background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.18);
    transition: transform 140ms ease, box-shadow 180ms ease, filter 160ms ease;
    position: relative;
    overflow: hidden;
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 20px 36px rgba(99, 102, 241, 0.24);
    filter: brightness(1.03);
}

.btn-primary:active {
    transform: scale(0.98);
    box-shadow: 0 8px 16px rgba(99, 102, 241, 0.14);
}


/* success variant for confirmed actions */

.btn-success {
    background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
    color: white !important;
    border: none;
    border-radius: 8px;
    padding: 6px 10px;
    font-weight: 700;
    cursor: default;
    box-shadow: 0 10px 22px rgba(16, 185, 129, 0.16);
}

.btn-secondary {
    background: white;
    color: var(--dark);
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 140ms ease, box-shadow 180ms ease;
    position: relative;
    overflow: hidden;
}

.btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.06);
}

.btn-secondary:active {
    transform: scale(0.98);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.05);
}


/* ripple effect */

.ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    opacity: 0.6;
    pointer-events: none;
    background: rgba(255, 255, 255, 0.5);
    animation: ripple 520ms cubic-bezier(.2, .9, .2, 1);
}

@keyframes ripple {
    to {
        transform: scale(2.8);
        opacity: 0;
    }
}


/* focus visible */

.table-btn:focus-visible,
.btn-primary:focus-visible,
.btn-secondary:focus-visible {
    outline: 3px solid rgba(99, 102, 241, 0.14);
    outline-offset: 4px;
}


/* danger variant for destructive actions (e.g., modal cancel) */

.btn-danger {
    background: linear-gradient(135deg, #ef4444 0%, #f43f5e 100%);
    color: white !important;
    border: none;
    border-radius: 8px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.16);
    transition: transform 140ms ease, box-shadow 180ms ease, filter 160ms ease;
    position: relative;
    overflow: hidden;
}

.btn-danger:hover {
    transform: translateY(-3px);
    box-shadow: 0 18px 36px rgba(239, 68, 68, 0.24);
    filter: brightness(1.02);
}


/* status/admin badges on topbar links */

#status-link,
#admin-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    vertical-align: middle;
}

.status-badge {
    position: absolute;
    top: 0;
    right: 0;
    transform: translate(45%, -45%);
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: var(--danger);
    color: white;
    border-radius: 999px;
    font-weight: 700;
    font-size: 12px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
    transform-origin: center;
    transition: transform 160ms ease, opacity 140ms ease, right 120ms ease;
    pointer-events: none;
    /* allow hovering link even when over badge */
}

.status-badge.small {
    min-width: 18px;
    height: 18px;
    font-size: 11px;
    padding: 0 5px
}


/* payment modal validation styles */

.pm-error {
    color: var(--danger);
    font-size: 13px;
    margin-top: 6px;
}

.input-error {
    border-color: var(--danger) !important;
    box-shadow: 0 0 0 6px rgba(239, 68, 68, 0.06);
}

.btn-primary[disabled] {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-danger:active {
    transform: scale(0.98);
    box-shadow: 0 8px 16px rgba(239, 68, 68, 0.14);
}


/* subtle modal pulse when opened */

@keyframes modalPulse {
    0% {
        transform: scale(0.98);
        opacity: 0.0;
    }
    50% {
        transform: scale(1.01);
        opacity: 1;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.dialog-animate {
    animation: modalPulse 260ms ease forwards;
}


/* Custom size select styles */

.custom-size-select {
    position: relative;
    width: 100%;
}

.custom-size-selected {
    width: 100%;
    padding: 12px;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    background: white;
    text-align: left;
    font-size: 15px;
    cursor: pointer;
}

.custom-size-select .custom-size-options {
    /* default is hidden; when opened JS positions it fixed and toggles .open on parent */
    position: absolute;
    left: 0;
    right: 0;
    margin: 6px 0 0 0;
    padding: 6px 4px;
    list-style: none;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 260ms cubic-bezier(.2, .9, .2, 1), opacity 180ms ease;
    opacity: 0;
    z-index: 1200;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
}

.custom-size-select.open .custom-size-options {
    max-height: 200px;
    opacity: 1;
}


/* overlay menu created dynamically */

.size-overlay-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.size-overlay-list li {
    padding: 10px 12px;
    cursor: pointer;
    transition: background 0.12s ease;
}

.size-overlay-list li:hover {
    background: #fafafa
}

.custom-size-options li {
    padding: 10px 12px;
    cursor: pointer;
    transition: background 0.12s ease;
}

.custom-size-options li:hover {
    background: #fafafa;
}

.custom-size-options li.selected {
    font-weight: 700;
    color: var(--primary);
}

.select-options li {
    padding: 10px 12px;
    cursor: pointer;
    transition: background 0.2s ease;
}

.select-options li:hover {
    background: var(--light);
}